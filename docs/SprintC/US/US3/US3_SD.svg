<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1164px" preserveAspectRatio="none" style="width:1031px;height:1164px;" version="1.1" viewBox="0 0 1031 1164" width="1031.2px" zoomAndPan="magnify"><defs><filter height="300%" id="fan7muxn4kv20" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.6000000000000003"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.2000000000000006" dy="3.2000000000000006" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="1001.8875" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="33.6" y="79.6875"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="50.4438" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="276.8" y="97.5688"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="432.5875" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="276.8" y="172.2938"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="452.4125" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="276.8" y="629.1625"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="378.425" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="415.2" y="196.575"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="398.25" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="415.2" y="653.4438"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="555.2" y="220.8563"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="99.6563" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="629.6" y="269.1375"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="149.6438" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="629.6" y="425.3563"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="22.4" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="633.6" y="552.6"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="373.9688" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="629.6" y="677.725"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="22.4" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="633.6" y="708.4063"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="22.4" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="633.6" y="863.65"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="22.4" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="633.6" y="970.6125"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="22.4" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="633.6" y="1029.2938"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="67.375" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="786.4" y="301.4188"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="786.4" y="449.6375"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="786.4" y="760.6875"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="786.4" y="808.9688"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="904.8" y="344.7938"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="981.6" y="497.9188"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="981.6" y="915.9313"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="37.6" x2="37.6" y1="71.6875" y2="1095.975"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="280.4" x2="280.4" y1="71.6875" y2="1095.975"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="418.8" x2="418.8" y1="71.6875" y2="1095.975"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="559.2" x2="559.2" y1="71.6875" y2="1095.975"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="633.6" x2="633.6" y1="71.6875" y2="1095.975"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="790" x2="790" y1="309.225" y2="1095.975"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="908.4" x2="908.4" y1="71.6875" y2="1095.975"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:5.0,5.0;" x1="985.2" x2="985.2" y1="71.6875" y2="1095.975"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="62.4" x="4" y="69.2266">Receptionist</text><ellipse cx="37.6" cy="12" fill="#FEFECE" filter="url(#fan7muxn4kv20)" rx="6.4" ry="6.4" style="stroke:#A80036;stroke-width:1.6000000000000003;"/><path d="M37.6,18.4 L37.6,40 M27.2,24.8 L48,24.8 M37.6,40 L27.2,52 M37.6,40 L48,52 " fill="none" filter="url(#fan7muxn4kv20)" style="stroke:#A80036;stroke-width:1.6000000000000003;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="62.4" x="4" y="1106.8016">Receptionist</text><ellipse cx="37.6" cy="1117.2625" fill="#FEFECE" filter="url(#fan7muxn4kv20)" rx="6.4" ry="6.4" style="stroke:#A80036;stroke-width:1.6000000000000003;"/><path d="M37.6,1123.6625 L37.6,1145.2625 M27.2,1130.0625 L48,1130.0625 M37.6,1145.2625 L27.2,1157.2625 M37.6,1145.2625 L48,1157.2625 " fill="none" filter="url(#fan7muxn4kv20)" style="stroke:#A80036;stroke-width:1.6000000000000003;"/><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="92" x="233.2" y="28.3125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="3.2" x="277.6" y="45.5391">:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="80.8" x="238.8" y="59.6266">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="92" x="233.2" y="1095.175"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="3.2" x="277.6" y="1112.4016">:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="80.8" x="238.8" y="1126.4891">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="132" x="351.6" y="28.3125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="3.2" x="416" y="45.5391">:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="120.8" x="357.2" y="59.6266">RegisterClientController</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="132" x="351.6" y="1095.175"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="3.2" x="416" y="1112.4016">:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="120.8" x="357.2" y="1126.4891">RegisterClientController</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="59.2" x="528" y="28.3125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="3.2" x="556" y="45.5391">:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="48" x="533.6" y="59.6266">Company</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="59.2" x="528" y="1095.175"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="3.2" x="556" y="1112.4016">:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="48" x="533.6" y="1126.4891">Company</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="67.2" x="598.4" y="28.3125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="28.8" x="617.6" y="45.5391">store:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="56" x="604" y="59.6266">ClientStore</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="67.2" x="598.4" y="1095.175"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="28.8" x="617.6" y="1112.4016">store:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="56" x="604" y="1126.4891">ClientStore</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="40.8" x="768.4" y="1095.175"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="29.6" x="774" y="1112.4016">client:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="28.8" x="774.4" y="1126.4891">Client</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="58.4" x="878" y="28.3125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="47.2" x="883.6" y="45.5391">clientDto:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="46.4" x="884" y="59.6266">ClientDto</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="58.4" x="878" y="1095.175"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="47.2" x="883.6" y="1112.4016">clientDto:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="46.4" x="884" y="1126.4891">ClientDto</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="72.8" x="947.6" y="28.3125"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="3.2" x="982.4" y="45.5391">:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="61.6" x="953.2" y="59.6266">AuthFacade</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="72.8" x="947.6" y="1095.175"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="3.2" x="982.4" y="1112.4016">:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="61.6" x="953.2" y="1126.4891">AuthFacade</text><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="1001.8875" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="33.6" y="79.6875"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="50.4438" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="276.8" y="97.5688"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="432.5875" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="276.8" y="172.2938"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="452.4125" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="276.8" y="629.1625"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="378.425" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="415.2" y="196.575"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="398.25" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="415.2" y="653.4438"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="555.2" y="220.8563"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="99.6563" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="629.6" y="269.1375"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="149.6438" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="629.6" y="425.3563"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="22.4" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="633.6" y="552.6"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="373.9688" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="629.6" y="677.725"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="22.4" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="633.6" y="708.4063"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="22.4" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="633.6" y="863.65"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="22.4" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="633.6" y="970.6125"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="22.4" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="633.6" y="1029.2938"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="67.375" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="786.4" y="301.4188"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="786.4" y="449.6375"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="786.4" y="760.6875"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="786.4" y="808.9688"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="904.8" y="344.7938"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="981.6" y="497.9188"/><rect fill="#FFFFFF" filter="url(#fan7muxn4kv20)" height="24" style="stroke:#A80036;stroke-width:0.8000000000000002;" width="8" x="981.6" y="915.9313"/><polygon fill="#A80036" points="267.2,94.3688,275.2,97.5688,267.2,100.7688,270.4,97.5688" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="41.6" x2="272" y1="97.5688" y2="97.5688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="47.2" y="93.6836">1</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="130.4" x="56" y="93.6836">starts new client registration</text><polygon fill="#A80036" points="50.4,144.8125,42.4,148.0125,50.4,151.2125,47.2,148.0125" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="45.6" x2="280" y1="148.0125" y2="148.0125"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="55.2" y="131.0461">2</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="176" x="64" y="117.9648">request data (i.e., citizenCardNumber,</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="176.8" x="64" y="131.0461">name, nhsNumber, birthDate, sex, tin,</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="62.4" x="64" y="144.1273">phone, email)</text><polygon fill="#A80036" points="267.2,169.0938,275.2,172.2938,267.2,175.4938,270.4,172.2938" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="41.6" x2="272" y1="172.2938" y2="172.2938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="47.2" y="168.4086">3</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="97.6" x="56" y="168.4086">types requested data</text><polygon fill="#A80036" points="405.6,193.375,413.6,196.575,405.6,199.775,408.8,196.575" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="284.8" x2="410.4" y1="196.575" y2="196.575"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="290.4" y="192.6898">4</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="58.4" x="299.2" y="192.6898">createClient(</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="44.8" x="357.6" y="192.6898">clientDto</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="3.2" x="402.4" y="192.6898">)</text><polygon fill="#A80036" points="545.6,217.6563,553.6,220.8563,545.6,224.0563,548.8,220.8563" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="423.2" x2="550.4" y1="220.8563" y2="220.8563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="428.8" y="216.9711">5</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="108" x="437.6" y="216.9711">store = getClientStore()</text><polygon fill="#A80036" points="620,265.9375,628,269.1375,620,272.3375,623.2,269.1375" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="423.2" x2="624.8" y1="269.1375" y2="269.1375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="428.8" y="265.2523">6</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="96" x="437.6" y="265.2523">client = createClient(</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="44.8" x="533.6" y="265.2523">clientDto</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="3.2" x="578.4" y="265.2523">)</text><polygon fill="#A80036" points="758.8,290.2188,766.8,293.4188,758.8,296.6188,762,293.4188" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="637.6" x2="763.6" y1="293.4188" y2="293.4188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="643.2" y="289.5336">7</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="32" x="652" y="289.5336">create(</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="44.8" x="684" y="289.5336">clientDto</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="3.2" x="728.8" y="289.5336">)</text><rect fill="#FEFECE" filter="url(#fan7muxn4kv20)" height="39.375" style="stroke:#A80036;stroke-width:1.2000000000000002;" width="40.8" x="768.4" y="275.5375"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="29.6" x="774" y="292.7641">client:</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacing" textLength="28.8" x="774.4" y="306.8516">Client</text><polygon fill="#A80036" points="895.2,341.5938,903.2,344.7938,895.2,347.9938,898.4,344.7938" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="794.4" x2="900" y1="344.7938" y2="344.7938"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="800" y="340.9086">8</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="86.4" x="808.8" y="340.9086">name = getName()</text><path d="M739.2,379.1938 L739.2,399.9938 L956.8,399.9938 L956.8,387.1938 L948.8,379.1938 L739.2,379.1938 " fill="#FBFB77" filter="url(#fan7muxn4kv20)" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><path d="M948.8,379.1938 L948.8,387.1938 L956.8,387.1938 L948.8,379.1938 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="200.8" x="744" y="393.9898">several interaction to extract data from DTO</text><polygon fill="#A80036" points="620,422.1563,628,425.3563,620,428.5563,623.2,425.3563" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="423.2" x2="624.8" y1="425.3563" y2="425.3563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="428.8" y="421.4711">9</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="92" x="437.6" y="421.4711">validateClient(client)</text><polygon fill="#A80036" points="776.8,446.4375,784.8,449.6375,776.8,452.8375,780,449.6375" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="637.6" x2="781.6" y1="449.6375" y2="449.6375"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="643.2" y="445.7523">10</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="84.8" x="657.6" y="445.7523">email = getEmail()</text><polygon fill="#A80036" points="972,494.7188,980,497.9188,972,501.1188,975.2,497.9188" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="637.6" x2="976.8" y1="497.9188" y2="497.9188"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="643.2" y="494.0336">11</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="99.2" x="657.6" y="494.0336">b = existsUser(email)</text><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="641.6" x2="675.2" y1="546.2" y2="546.2"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="675.2" x2="675.2" y1="546.2" y2="556.6"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="642.4" x2="675.2" y1="556.6" y2="556.6"/><polygon fill="#A80036" points="650.4,553.4,642.4,556.6,650.4,559.8,647.2,556.6" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="647.2" y="542.3148">12</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="108" x="661.6" y="542.3148">checkDuplicates(client)</text><polygon fill="#A80036" points="50.4,601.6813,42.4,604.8813,50.4,608.0813,47.2,604.8813" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="45.6" x2="280" y1="604.8813" y2="604.8813"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="55.2" y="600.9961">13</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="201.6" x="69.6" y="600.9961">shows the data and requests a confirmation</text><polygon fill="#A80036" points="267.2,625.9625,275.2,629.1625,267.2,632.3625,270.4,629.1625" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="41.6" x2="272" y1="629.1625" y2="629.1625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="47.2" y="625.2773">14</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="80" x="61.6" y="625.2773">confirms the data</text><polygon fill="#A80036" points="405.6,650.2438,413.6,653.4438,405.6,656.6438,408.8,653.4438" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="284.8" x2="410.4" y1="653.4438" y2="653.4438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="290.4" y="649.5586">15</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="53.6" x="304.8" y="649.5586">saveClient()</text><polygon fill="#A80036" points="620,674.525,628,677.725,620,680.925,623.2,677.725" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="423.2" x2="624.8" y1="677.725" y2="677.725"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="428.8" y="673.8398">16</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="78.4" x="443.2" y="673.8398">saveClient(client)</text><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="641.6" x2="675.2" y1="702.0063" y2="702.0063"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="675.2" x2="675.2" y1="702.0063" y2="712.4063"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="642.4" x2="675.2" y1="712.4063" y2="712.4063"/><polygon fill="#A80036" points="650.4,709.2063,642.4,712.4063,650.4,715.6063,647.2,712.4063" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="647.2" y="698.1211">17</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="92" x="661.6" y="698.1211">validateClient(client)</text><polygon fill="#A80036" points="776.8,757.4875,784.8,760.6875,776.8,763.8875,780,760.6875" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="637.6" x2="781.6" y1="760.6875" y2="760.6875"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="643.2" y="756.8023">18</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="84.8" x="657.6" y="756.8023">email = getEmail()</text><polygon fill="#A80036" points="776.8,805.7688,784.8,808.9688,776.8,812.1688,780,808.9688" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="637.6" x2="781.6" y1="808.9688" y2="808.9688"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="643.2" y="805.0836">19</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="86.4" x="657.6" y="805.0836">name = getName()</text><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="641.6" x2="675.2" y1="857.25" y2="857.25"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="675.2" x2="675.2" y1="857.25" y2="867.65"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="642.4" x2="675.2" y1="867.65" y2="867.65"/><polygon fill="#A80036" points="650.4,864.45,642.4,867.65,650.4,870.85,647.2,867.65" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="647.2" y="853.3648">20</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="123.2" x="661.6" y="853.3648">pwd = generatePassword()</text><polygon fill="#A80036" points="972,912.7313,980,915.9313,972,919.1313,975.2,915.9313" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="637.6" x2="976.8" y1="915.9313" y2="915.9313"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="643.2" y="912.0461">21</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="236.8" x="657.6" y="912.0461">b = addUserWithRole(name, email, pwd, "CLIENT")</text><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="641.6" x2="675.2" y1="964.2125" y2="964.2125"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="675.2" x2="675.2" y1="964.2125" y2="974.6125"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="642.4" x2="675.2" y1="974.6125" y2="974.6125"/><polygon fill="#A80036" points="650.4,971.4125,642.4,974.6125,650.4,977.8125,647.2,974.6125" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="647.2" y="960.3273">22</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="74.4" x="661.6" y="960.3273">addClient(client)</text><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="641.6" x2="675.2" y1="1022.8938" y2="1022.8938"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="675.2" x2="675.2" y1="1022.8938" y2="1033.2938"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;" x1="642.4" x2="675.2" y1="1033.2938" y2="1033.2938"/><polygon fill="#A80036" points="650.4,1030.0938,642.4,1033.2938,650.4,1036.4938,647.2,1033.2938" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="647.2" y="1019.0086">23</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="104.8" x="661.6" y="1019.0086">sendEmail(client, pwd)</text><polygon fill="#A80036" points="46.4,1078.375,38.4,1081.575,46.4,1084.775,43.2,1081.575" style="stroke:#A80036;stroke-width:0.8000000000000002;"/><line style="stroke:#A80036;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="41.6" x2="280" y1="1081.575" y2="1081.575"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="51.2" y="1077.6898">24</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacing" textLength="121.6" x="65.6" y="1077.6898">informs operation success</text><!--MD5=[4d720accb39ebb85735893835a98310c]
@startuml
autonumber
actor "Receptionist" as USER
participant ":\nRegisterClientUI" as UI
participant ":\nRegisterClientController" as CTRL
participant ":\nCompany" as COMP
participant "store:\nClientStore" as STORE
participant "client:\nClient" as CLIENT
participant "clientDto:\nClientDto" as DTO
participant ":\nAuthFacade" as AUTH

activate USER
USER -> UI : starts new client registration
activate UI
UI - -> USER : request data (i.e., citizenCardNumber, \nname, nhsNumber, birthDate, sex, tin, \nphone, email)
deactivate UI

USER -> UI : types requested data
activate UI
UI -> CTRL : createClient(**clientDto**)
activate CTRL
CTRL -> COMP: store = getClientStore()
activate COMP
deactivate COMP
CTRL -> STORE : client = createClient(**clientDto**)
activate STORE
STORE - -> CLIENT**: create(**clientDto**)
activate CLIENT
CLIENT -> DTO: name = getName()
activate DTO
note over CLIENT,DTO: several interaction to extract data from DTO
deactivate DTO
deactivate CLIENT
deactivate STORE

CTRL -> STORE: validateClient(client)
activate STORE
STORE -> CLIENT: email = getEmail()
activate CLIENT
deactivate CLIENT
STORE -> AUTH: b = existsUser(email)
activate AUTH
deactivate AUTH
STORE -> STORE: checkDuplicates(client)
activate STORE
deactivate STORE
deactivate STORE
deactivate CTRL
UI - -> USER : shows the data and requests a confirmation
deactivate UI

USER -> UI : confirms the data
activate UI
UI -> CTRL : saveClient()
activate CTRL
CTRL ->STORE : saveClient(client)
activate STORE
STORE -> STORE: validateClient(client)
activate STORE
deactivate STORE
STORE -> CLIENT: email = getEmail()
activate CLIENT
deactivate CLIENT
STORE -> CLIENT: name = getName()
activate CLIENT
deactivate CLIENT
STORE ->STORE: pwd = generatePassword()
activate STORE
deactivate STORE

STORE -> AUTH: b = addUserWithRole(name, email, pwd, "CLIENT")
activate AUTH
deactivate AUTH

STORE -> STORE: addClient(client)
activate STORE
deactivate STORE

STORE -> STORE: sendEmail(client, pwd)
activate STORE
deactivate STORE

deactivate STORE
deactivate CTRL
UI - -> USER : informs operation success
deactivate UI

deactivate USER
@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>